<!DOCTYPE html>
<html>

<head>
    <title>Administrador de PCs</title>
    <link rel="stylesheet" href="./static/style.css">
</head>

<body>


    <!-- Sidebar / Top Navigation Bar -->
    <header class="topbar">

        <h2>RIWI<span>Manager</span></h2>
        <nav>
            <a href="/">Network</a>
            <a href="/reportes">Reportes</a>
            <a href="/logout">Cerrar sesi√≥n</a>
        </nav>
    </header>
    
    <!-- Main content area. The CSS handles the layout. -->
    <main class="main"></main>

    <!-- Page Title -->
    <h1>Lista de Equipos</h1>
    <form action="/add" method="post">
        <input type="text" name="hostname" placeholder="Hostname" required>
        <input type="text" name="mac" placeholder="MAC" required>
        <input type="text" name="ip" placeholder="IP" required>
        <button type="submit" class="agre">Agregar</button>
    </form>


<!-- Section to display all computers as a grid of cards -->
<section class="cards">
  <!-- Loop through each computer ('e') in the 'equipos' list provided by the backend -->
  {% for e in equipos %}
  <article class="card-pc">
    
      <!-- Hostname of the computer. e[1] corresponds to the 'hostname' column from the database. -->
      <h3 class="hostname">{{ e[1] }}</h3><b></b>
      <!-- Static PC icon. You can change the path to your desired icon. -->
      <img class="pc-icon" src="./static/imag/computadora (3).png" alt="PC" />
     

    <!-- Unordered list to display computer information -->
    <ul class="info">
      <!-- e[0] = id, e[2] = mac, e[3] = ip, e[4] = estado -->
      <li><strong>ID:</strong> {{ e[0] }}</li>
      <li><strong>MAC:</strong> {{ e[2] }}</li>
      <li><strong>IP:</strong> {{ e[3] }}</li>
      <li><strong>Estado:</strong> {{ e[4] }}</li>
      <li>
        <strong>Conectado:</strong>
        <!-- Conditionally display a status pill based on the 'conectado' boolean (e[5]) -->
        {% if e[5] %}<span class="pill ok">üü¢ S√≠</span>{% else %}<span class="pill bad">üî¥ No</span>{% endif %}
      </li>
      <li>
        <strong>Error:</strong>
        <!-- If an error message exists (e[6]), display a warning pill. Otherwise, show 'No errors'. -->
        {% if e[6] %}<span class="pill warn">‚ö†Ô∏è {{ e[6] }}</span>{% else %}<span class="pill mute">Sin errores</span>{% endif %}
      </li>
    </ul>

    <!-- Action buttons for each computer -->
    <div class="acciones">
      <!-- The href attributes are dynamically generated using data from the computer object 'e' -->
      <a class="btn-accion btn-on" href="/encender/{{ e[2] }}">Encender</a>
      <a class="btn-accion btn-off" href="/apagar/{{ e[3] }}">Apagar</a>
      <a class="btn-accion" href="/bienvenida/{{ e[3] }}">Bienvenida</a>
      <a class="btn-accion btn-delete" href="/delete/{{ e[0] }}">Eliminar</a>
    </div>
  </article>
  {% endfor %}
</section>


</html>